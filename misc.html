<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <title>Miscellaneous | ZGC</title>
    <style>
      :root {
        --bg-color: #121212;
        --text-color: #ffffff;
        --button-bg: #b625cc;
        --button-text: #ffffff;
        --accent: #22c55e;
      }

      body {
        background-color: var(--bg-color);
        color: var(--text-color);
        font-family: 'Courier New', monospace;
        margin: 0;
        padding: 1em;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
        position: relative;
        overflow-x: hidden;
      }

      h1, h2, p, label {
        color: var(--text-color);
      }

      h2 {
        text-align: center;
        font-size: 2em;
        margin-bottom: 1em;
        position: relative;
        z-index: 2;
      }

      input[type="url"], input[type="text"] {
        width: 100%;
        padding: 10px;
        border: none;
        border-radius: 10px;
        background-color: #2c2c2c;
        color: var(--text-color);
        font-family: 'Courier New', monospace;
        box-sizing: border-box;
        font-size: 1em;
      }

      button {
        padding: 10px 20px;
        border: none;
        border-radius: 10px;
        background-color: var(--button-bg);
        color: var(--button-text);
        cursor: pointer;
        font-family: 'Courier New', monospace;
        font-size: 1em;
        transition: background-color 0.3s ease;
      }

      button:hover {
        background-color: var(--accent);
        color: var(--button-text);
      }

      .button-wrapper {
        display: flex;
        justify-content: space-between;
        margin-top: 1em;
        width: 100%;
        max-width: 600px;
        position: relative;
        z-index: 2;
        gap: 0.5em;
      }

      .button-wrapper button {
        flex: 1;
      }

      div.container {
        width: 100%;
        max-width: 600px;
        margin-bottom: 2em;
        position: relative;
        z-index: 2;
      }

      p.note, p.center-button {
        text-align: center;
        position: relative;
        z-index: 2;
        font-size: 0.9em;
        opacity: 0.8;
      }

      a.home-link {
        text-decoration: none;
      }

      a.home-link button {
        background-color: var(--accent);
        width: 100%;
        max-width: 200px;
      }

      #particles-js {
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: 1;
        pointer-events: none;
      }
    </style>
  </head>
  <body>
    <div id="particles-js"></div>
    <h2>Miscellaneous stuff</h2>

    <div class="container">
      <div>
        <h1>about:blank</h1>
        <p>Enter a URL you want to be opened in a about:blank page below:</p>
        <p><input id="url-target" type="url" pattern="https://.*" placeholder="Enter a website URL" autocomplete="on" /></p>
        <p class="note">Note this will not work with some websites, but you can copy the link of this website and put it in for extra privacy.</p>
        <div class="button-wrapper">
          <button id="create">Create page</button>
        </div>
      </div>
    </div>

    <div class="container">
      <div>
        <h1>Tab Cloaker</h1>
        <p>Enter a new tab title or an image URL below. What you set will be used on the whole site.</p>
        <p><input id="userinput" type="text" placeholder="Enter a title or image URL" autocomplete="on" /></p>
        <p id="console-output"></p>
        <div class="button-wrapper">
          <button onclick="changeTabTitle();">Set Title</button>
          <button onclick="changeTabIcon();">Set Icon</button>
          <button onclick="resetTabSettings();">Reset</button>
        </div>
      </div>
    </div>

    <div class="container">
      <div>
        <h1>Ads consent</h1>
        <p>Sometimes, ads are shown to support the creator. If you would not like to see ads or it slows down your computer too much, you can disable them here.</p>
        <label for="adConsent">Do not show ads at all:</label>
        <input type="checkbox" id="adConsent" name="adConsent" />
      </div>
    </div>

    <div class="container">
      <div>
        <h1>Theme Selector</h1>
        <p>Pick a theme to change the look of the site:</p>
        <div class="button-wrapper">
          <button onclick="setTheme('original')">Original</button>
          <button onclick="setTheme('light')">Light</button>
          <button onclick="setTheme('tokyo')">Tokyo Night</button>
          <button onclick="setTheme('github')">GitHub Dark</button>
          <button onclick="setTheme('synthwave')">Synthwave '84</button>
        </div>
      </div>
    </div>

    <p class="center-button">
      <a href="/index.html" class="home-link">
        <button>Go to the homepage</button>
      </a>
    </p>

    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script>
      particlesJS("particles-js", {
        particles: {
          number: { value: 80, density: { enable: true, value_area: 800 } },
          color: { value: "#ffffff" },
          shape: { type: "circle", stroke: { width: 0, color: "#000000" } },
          opacity: { value: 0.5 },
          size: { value: 6, random: true, anim: { enable: true, speed: 4, size_min: 0.3, sync: false } },
          line_linked: { enable: false },
          move: { enable: true, speed: 3, direction: "none", out_mode: "out" }
        },
        interactivity: {
          detect_on: "canvas",
          events: {
            onhover: { enable: true, mode: "bubble" },
            onclick: { enable: true, mode: "push" },
            resize: true
          },
          modes: {
            bubble: { distance: 200, size: 10, duration: 2, opacity: 0.8, speed: 3 },
            push: { particles_nb: 4 }
          }
        },
        retina_detect: true
      });

      const themes = {
        original: {
          '--bg-color': '#121212',
          '--text-color': '#ffffff',
          '--button-bg': '#b625cc',
          '--button-text': '#ffffff',
          '--accent': '#22c55e'
        },
        light: {
          '--bg-color': '#f4f4f4',
          '--text-color': '#111111',
          '--button-bg': '#cccccc',
          '--button-text': '#111111',
          '--accent': '#007acc'
        },
        tokyo: {
          '--bg-color': '#1a1b26',
          '--text-color': '#c0caf5',
          '--button-bg': '#7aa2f7',
          '--button-text': '#1a1b26',
          '--accent': '#9ece6a'
        },
        github: {
          '--bg-color': '#0d1117',
          '--text-color': '#c9d1d9',
          '--button-bg': '#238636',
          '--button-text': '#ffffff',
          '--accent': '#58a6ff'
        },
        synthwave: {
          '--bg-color': '#2a2139',
          '--text-color': '#f92672',
          '--button-bg': '#66d9ef',
          '--button-text': '#2a2139',
          '--accent': '#fd971f'
        }
      };

      function setTheme(themeName) {
        const theme = themes[themeName];
        if (!theme) return;
        Object.entries(theme).forEach(([property, value]) => {
          document.documentElement.style.setProperty(property, value);
        });
        localStorage.setItem('theme', themeName);
      }

      (function restoreTheme() {
        const saved = localStorage.getItem('theme');
        if (saved && themes[saved]) {
          setTheme(saved);
        } else {
          setTheme('original');
        }
      })();

      // Placeholder functions for Tab Cloaker buttons - you can implement these in misc.js or main.js
      function changeTabTitle() {
        const val = document.getElementById('userinput').value.trim();
        if(val) {
          document.title = val;
          document.getElementById('console-output').textContent = `Tab title set to "${val}"`;
        }
      }
      function changeTabIcon() {
        const val = document.getElementById('userinput').value.trim();
        if(val) {
          let link = document.querySelector("link[rel~='icon']");
          if(!link) {
            link = document.createElement('link');
            link.rel = 'icon';
            document.head.appendChild(link);
          }
          link.href = val;
          document.getElementById('console-output').textContent = `Tab icon set to "${val}"`;
        }
      }
      function resetTabSettings() {
        document.title = "Miscellaneous | ZGC";
        let link = document.querySelector("link[rel~='icon']");
        if(link) link.href = "/favicon.ico";
        document.getElementById('userinput').value = '';
        document.getElementById('console-output').textContent = '';
      }
    </script>

    <script src="/js/misc.js"></script>
    <script src="/js/main.js"></script>
  </body>
</html>
